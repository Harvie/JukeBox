<title>Harvie's JuKe!Box Help</title>
<script type="text/javascript">function showhide(eid) {obj = document.getElementById(eid); obj.style.display = (obj.style.display == 'none' ? '' : 'none');}</script>

<h2>[EN] Warning</h2>
This document should be outdated or invalid. You can find the latest and valid version <a href="http://code.google.com/p/h-jukebox/wiki/AboutHelp">here</a>.
If you still want to read this document, then <a href="javascript:showhide('help')">click here to agree</a>.
<h2>[CZ] Varování</h2>
Tato stránka může být zastaralá, nebo neplatná. Poslední platnou verzi naleznete <a href="http://code.google.com/p/h-jukebox/wiki/AboutHelp">zde</a>.
Pokud i přes to chcete tuto stránku číst, pak <a href="javascript:showhide('help')">pro souhlas klikněte zde</a>.

<div id="help">
<pre>

<hr /><h2>Autorská práva</h2>
Autorem této aplikace je &lt;~~Harvie (2oo8), který se zříká autorských práv (CopyLefted) a zároveň také zodpovědnosti.
Licence pro software z třetí strany (musicplayer,...) najdete v souboru COPYING.
Pokud je pomocí tohoto webu zpřístupněn materiál, jehož stažením se vy nebo poskytovatel dopouštíte porušení autorských práv, tento obsah nestahujete!
Instalací nebo používáním aplikace potvrzujete, že jste s právy srozuměni a že je akceptujete. V opačném případě aplikaci nepoužívejte ani neinstalujte.

<h2>Základy Ovládání</h2>
Na úvodní stránce vidíte výpis souborů a adresářů (označeny [DIR]).
Kliknutím na jméno souboru zahájíte stahování.
Kliknutím na jméno adresáře vstoupíte do adresáře.
Pokud zobrazený adresář obsahuje soubor index.html nebo index.txt, bude tento zobrazen nad výpisem.
Vedle každého adresáře nebo hudebního souboru najdete písmenka, pomocí kterých můžete spustit příslušnou akci.

Tady je krátký přehled významu jednotlivých písmenek:
P - Přehrát (je nutné stáhnout playlist.m3u a otevřít v přehrávači hudby - např. Winamp, to se dá po nastavení prohlížeče dělat automaticky...)
  - U složek tato volba přehraje všechny zvukové soubory, které složka obsahuje
R - To samé jako P, ale přehraje se i hudba v podsložkách (POZOR! raději nepoštět na velké adresáře!!!)
D - Otevře nadřazenou složku pro daný soubor (pouze u vyhledávání)
F - Spustí přehrávání v prohlížeči (vyžaduje flash), otevřete odkaz v novém okně, pokud si chcete dál prohlížet knihovnu...
S - Zastaví přehrávání v prohlížeči

<h2>Vyhledávání</h2>
Před prvním vyhledáváním je potřeba vytvořit cache a nastavit ji práva pr zápis.
Potom je soubor s cache třeba obnovovat (na stránce vyhledávání se zadá heslo pro obnovení/vytvoření db a stiskne se "refresh cache").
Na Linuxu se může dát obnovování cache do cronu jako skript používající příkaz find, databáze tak bude udržována stále aktuální.
Při vyhledávání je možné použít regulární výrazy (mezery budou nahrazeny řetězcem '(.*)' !!!).
Kromě vyhledávání hudby v lokálním archivu skript také umožňuje vyhledávání hudby a textů písní na www.
Je limitován počet souborů, u kterých se při vyhledávání zobrazuje velikost. (To by vylučovalo funkci cache - cachovat velikost se mi ale nechce).
Kromě vyhledávání lze z databáze také vygenerovat (pseudo)náhodný playlist.

<h2>Přihlašování</h2>
Pokud je povolen přihašovací modul, budete při prvním otevření stránky vyzváni k zadání příslušných údajů.
Odhlášení provedete kliknutím na odkaz "LOGOUT" v horním menu.

<h2>Instalace</h2>
Instalace se provádí nakopírováním souborů do adresáře přístupného webovému servru,
upravením nastavení ve zdrojovém souboru a přihlašovacím modulu (http_auth.php).
Pro zakázání přihlašovacího modulu smažte první řádek kódu (obsahuje http_auth.php).
a správným nastavením přístupových práv daným souborům.
Také doporučuji nastavit php open base dir pro pojisteni pred directory traversingem do nadrazenych adresaru...

Přehled vlastností v hlavním souboru:
$title =                Nadpis stránky
$music_dir =            Relativní cesta k adresáři s hudbout
$music_dir_url =        URL pro přístup k hudbě z venku
$cache_passwd =         Heslo pro obnovení vyhledávací cache
$access_limit =		Maximální počet souborů zpracovaných bez použití cache (při vyhledávání)
$default_random_count = Výchozí počet v náhodném playlistu	
$sort =                 Povolit abecedni razeni? 0=ne, 1=jen playlisty, 2=playlisty i listingy, 3=vse i vyhledavani
			- Razeni je potreba pouzivat s rozvahou s ohledem na zatez CPU a RAM (coz muze byt omezeno nastavenim serveru/php)
			- Razeni vyhledavaci databaze muze byt narocnejsi zvlaste u rozsahlejsich hudebnich knihoven
			  - V takovem pripade je vhodne ho zakazat, nebo pouzit k razeni shellove skripty

$playlist_name =        Jméno generovaného playlistu
$m3u_exts =             Přípony souborů, které se zobrazí v playlistu a ve vyhledávání

$indexlist =            Pole se jmény souborů, které se mají případně zobrazit před výpisem složky
$bonus_dir =            Adresář s pomocnými soubory
$search_cache =         Cesta k vyhledávací cache
$flash_player =         Cesta k swf souboru webového přehrávače
$css_file =             Cesta k CSS stylu


<h2>Nefunguje</h2>
Skript - potřebujete webserver s podporou PHP
Vyhledávání - skript nemá práva pro zápis/čtení databáze, nebo databáze ještě nebyla vytvořená...
Přehrávání v prohlížeči - není přítomný swf soubor přehrávače, prohlížeč nepodporuje flash, nebo inline framy...
Něco jiného - UTFS && UTFG...
</pre>
</div>
<script type="text/javascript">showhide("help");</script>
